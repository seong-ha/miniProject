<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.community.yedam.noticeBoard.service">


	<select id="noticeSelectList"
		resultType="co.community.yedam.noticeBoard.service.NoticeBoardVO">
		SELECT * FROM NOTICE ORDER BY NOTICE_ID DESC

	</select>

	<select id="noticeSelect"
		resultType="co.community.yedam.noticeBoard.service.NoticeBoardVO">
		SELECT * FROM NOTICE WHERE NOTICE_ID = #{noticeId}
	</select>

	<insert id="noticeInsert">
		<selectKey keyProperty="noticeId" resultType="int"
			order="BEFORE">
			SELECT CASE WHEN MAX(NOTICE_ID) IS NULL THEN 1
			ELSE
			MAX(NOTICE_ID)+1 END AS
			ID
			FROM NOTICE
		</selectKey>
		INSERT INTO NOTICE
		VALUES(#{noticeId},#{noticeWriter},#{noticeTitle},#{noticeSubject},#{noticeDate},#{noticeAttech},#{noticeAttechDir},#{noticeHit})
	</insert>

	<update id="noticeUpdate">
		UPDATE NOTICE
		<set>
			<if test="noticeWriter != null">NOTICE_WRITER=#{noticeWriter},</if>
			<if test="noticeTitle != null">NOTICE_TITLE=#{noticeTitle},</if>
			<if test="noticeSubject!= null">NOTICE_SUBJECT=#{noticeSubject},</if>
			<if test="noticeDate!= null">NOTICE_DATE=#{noticeDate},</if>
			<if test="noticeAttech!= null">NOTICE_ATTECH=#{noticeAttech},</if>
			<if test="noticeAttechDir!= null">NOTICE_ATTECH_DIR=#{noticeAttechDir}</if>
		</set>
		WHERE NOTICE_ID =#{noticeId}
	</update>

	<delete id="noticeDelete">
		DELETE FROM NOTICE WHERE NOTICE_ID =#{noticeId}
	</delete>

	<update id="noticeHitUpdate" parameterType="int">
		UPDATE NOTICE SET
		NOTICE_HIT = NOTICE_HIT + 1 WHERE NOTICE_ID =#{id}
	</update>


	<select id="noticeSearchList"
		resultType="co.micol.kdy.notice.service.NoticeVO">
		select * from notice
		where
	</select>




</mapper>